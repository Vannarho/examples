<?xml version='1.0' encoding='utf-8'?>
<VRE>
  <Setup>
    <Parameter name="asofDate">2016-02-05</Parameter>
    <Parameter name="inputPath">Input/sacva_larger_porfolio</Parameter>
    <Parameter name="outputPath">Output/sacva_cg_gpu_larger_portfolio</Parameter>
    <Parameter name="logFile">log.txt</Parameter>
    <Parameter name="logMask">15</Parameter>
    <Parameter name="marketDataFile">market_20160205.txt</Parameter>
    <Parameter name="fixingDataFile">fixings_20160205.txt</Parameter>
    <Parameter name="implyTodaysFixings">N</Parameter>
    <Parameter name="curveConfigFile">curveconfig.xml</Parameter>
    <Parameter name="conventionsFile">conventions.xml</Parameter>
    <Parameter name="marketConfigFile">todaysmarket.xml</Parameter>
    <Parameter name="pricingEnginesFile">pricingengine_gpu.xml</Parameter>
    <Parameter name="portfolioFile">portfolio_sacva_larger.xml</Parameter>
    <Parameter name="counterpartyFile">counterparty.xml</Parameter>
    <Parameter name="observationModel">Disable</Parameter>
    <Parameter name="scriptLibrary">../other/scriptlibrary_master.xml</Parameter>
    <Parameter name="referenceDataFile">referencedata.xml</Parameter>
    <Parameter name="nThreads">1</Parameter>
  </Setup>
  <Markets>
    <Parameter name="lgmcalibration">xois_eur</Parameter>
    <Parameter name="fxcalibration">xois_eur</Parameter>
    <Parameter name="pricing">xois_eur</Parameter>
    <Parameter name="simulation">xois_eur</Parameter>
    <Parameter name="sensitivity">xois_eur</Parameter>
  </Markets>
  <Analytics>
    <Analytic type="npv">
      <Parameter name="active">Y</Parameter>
      <Parameter name="baseCurrency">EUR</Parameter>
      <Parameter name="outputFileName">npv.csv</Parameter>
    </Analytic>
    <Analytic type="cashflow">
      <Parameter name="active">Y</Parameter>
      <Parameter name="outputFileName">flows.csv</Parameter>
    </Analytic>
    <Analytic type="curves">
      <Parameter name="active">Y</Parameter>
      <Parameter name="configuration">default</Parameter>
      <Parameter name="grid">240,1M</Parameter>
      <Parameter name="outputFileName">curves.csv</Parameter>
    </Analytic>
    <Analytic type="saccr">
      <Parameter name="active">Y</Parameter>
      <Parameter name="simplifiedSACCR">N</Parameter>
      <Parameter name="OEMSACCR">N</Parameter>
      <Parameter name="ignoreMarginSACCR">N</Parameter>
      <Parameter name="saccrOutputFileName">saccr_output.csv</Parameter>
      <Parameter name="saccrTreeOutputFileName">saccr_output.json</Parameter>
      <Parameter name="saccrCrifOutputFileName">saccr_crif.csv</Parameter>
      <Parameter name="saccrPortfolioFile">portfolio_sacva_larger.xml</Parameter>
      <Parameter name="saccrCollateralBalancesFile">collateralbalances.xml</Parameter>
      <Parameter name="saccrCsaFile">netting.xml</Parameter>
      <Parameter name="saccrBaseCurrency">EUR</Parameter>
    </Analytic>
    <Analytic type="simulation">
      <Parameter name="active">Y</Parameter>

      <Parameter name="enableScenarioXva">Y</Parameter>
      <Parameter name="amc">Y</Parameter>
      <Parameter name="amcCg">Full</Parameter>
      <Parameter name="xvaCgSensitivityConfigFile">xvasensiconfig.xml</Parameter>
      <Parameter name="xvaCgBumpSensis">false</Parameter>
      <Parameter name="amcTradeTypes">ScriptedTrade</Parameter>
      <Parameter name="simulationConfigFile">simulation.xml</Parameter>
      <Parameter name="pricingEnginesFile">pricingengine.xml</Parameter>
      <Parameter name="amcPricingEnginesFile">pricingengine_amc.xml</Parameter>
      <Parameter name="amcCgPricingEnginesFile">pricingengine_amccg.xml</Parameter>
      <Parameter name="baseCurrency">EUR</Parameter>
      <Parameter name="xvaCgUseExternalComputeDevice">true</Parameter>
      <Parameter name="xvaCgExternalComputeDevice">Metal/Apple/Apple Apple M4 Max</Parameter>
      <Parameter name="xvaCgKernelMaxArgs">8192</Parameter>
      <Parameter name="xvaCgOpenClCompatibilityMode">Auto</Parameter>
      <Parameter name="xvaCgAdHybridFallback">On</Parameter>
      <Parameter name="xvaCgAadFrontierPruning">Y</Parameter>
      <Parameter name="xvaCgAadCheckpointPolicy">Auto</Parameter>
      <Parameter name="cpuCompiledKernels">Auto</Parameter>
      <Parameter name="xvaCgRegressionOrder">3</Parameter>
      <Parameter name="xvaCgRegressionVarianceCutoff">1e-6</Parameter>
      <Parameter name="xvaCgCacheConditionalExpectation">Y</Parameter>
      <Parameter name="cpuSimdTarget">Auto</Parameter>
      <Parameter name="xvaCgCeSimd">Auto</Parameter>
      <Parameter name="xvaCgCeSimdTarget">Auto</Parameter>
      <Parameter name="xvaCgForwardThreads">5</Parameter>
      <Parameter name="xvaCgCubeThreads">5</Parameter>

    </Analytic>
    <Analytic type="xva">
      <Parameter name="active">N</Parameter>
      <Parameter name="csaFile">netting.xml</Parameter>
      <Parameter name="cubeFile">cube.csv</Parameter>
      <Parameter name="scenarioFile">scenariodata.csv</Parameter>
      <Parameter name="baseCurrency">EUR</Parameter>
      <Parameter name="exposureProfiles">Y</Parameter>
      <Parameter name="exposureProfilesByTrade">Y</Parameter>
      <Parameter name="quantile">0.95</Parameter>
      <Parameter name="calculationType">NoLag</Parameter>
      <Parameter name="cva">Y</Parameter>
      <Parameter name="rawCubeOutputFile">rawcube.csv</Parameter>
      <Parameter name="netCubeOutputFile">netcube.csv</Parameter>

      <Parameter name="dim">N</Parameter>
      <Parameter name="dimModel">Regression</Parameter>
      <Parameter name="dimRegressors" />
      <Parameter name="dimQuantile">0.99</Parameter>
      <Parameter name="dimHorizonCalendarDays">14</Parameter>
      <Parameter name="dimRegressionOrder">2</Parameter>
    </Analytic>
    <Analytic type="xvaSensitivity">
      <Parameter name="active">Y</Parameter>
      <Parameter name="marketConfigFile">sensimarket.xml</Parameter>
      <Parameter name="sensitivityConfigFile">sensitivity.xml</Parameter>
      <Parameter name="sensiSource">CG_GPU</Parameter>
      <Parameter name="parSensitivity">N</Parameter>
      <Parameter name="outputSensitivityThreshold">0.000001</Parameter>
      <Parameter name="outputJacobi">N</Parameter>
    </Analytic>

    <Analytic type="sacva">
      <Parameter name="active">Y</Parameter>
      <Parameter name="saCvaMethod">SACVA</Parameter>
      <Parameter name="useUnhedgedCvaSensis">N</Parameter>
    </Analytic>
  </Analytics>
  <Parameter name="ExternalComputeDevice">Metal/Apple/Apple Apple M4 Max</Parameter>
  <Parameter name="UseExternalComputeDevice">true</Parameter>
</VRE>
